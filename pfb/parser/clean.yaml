inputs:
  residual_name:
    dtype: str
    abbreviation: rname
    default: RESIDUAL
    info:
      Name of residual in xds
  mask:
    dtype: str
    abbreviation: mask
    info:
      Either path to mask.fits or set to mds
      to use the mask contained in the mds
  nband:
    dtype: int
    required: true
    abbreviation: nb
    info:
      Number of imaging bands
  output_filename:
    dtype: str
    required: true
    abbreviation: o
    info:
      Basename of output
  postfix:
    dtype: str
    default: ''
    info:
      Can be used to specify a custom name for the image space data products
  product:
    dtype: str
    abbreviation: p
    default: I
    info:
      Imaging products to produce. Options are I, Q, U, V.
      Only single Stokes products are currently supported
  algo:
    dtype: str
    default: clark
    choices:
      - hogbom
      - clark
    info:
      Which minor cycle to use
  update_mask:
    dtype: bool
    default: false
    info:
      Will create a mask from clean components and write it to the mds
  dirosion:
    dtype: int
    default: 1
    info:
      Perform dilation followed by erosion with structure element of this width
  fits_mfs:
    dtype: bool
    default: true
    info:
      Output MFS fits files
  fits_cubes:
    dtype: bool
    default: false
    info:
      Output fits cubes
  do_residual:
    dtype: bool
    default: false
    info:
      Make final residual
  mop_flux:
    dtype: bool
    default: true
    info:
      Run PCG based flux mop between major iterations
  nmiter:
    dtype: int
    default: 5
    abbreviation: nmiter
    info:
      Number of major iterations
  threshold:
    dtype: float
    info:
      Absolute threshold at which to stop cleaning.
      By default it is set automatically using sigmathreshold parameter
    abbreviation: th
  sigmathreshold:
    dtype: float
    default: 2.0
    info:
      Multiple of the rms at which to terminate the minor cycle
  gamma:
    dtype: float
    default: 0.1
    abbreviation: gamma
    info:
      Minor loop gain
  peak_factor:
    dtype: float
    default: 0.15
    abbreviation: pf
    info:
      Peak factor
  sub_peak_factor:
    dtype: float
    default: 0.75
    abbreviation: spf
    info:
      Peak factor of sub-minor loop
  hogbom_maxit:
    dtype: int
    default: 5000
    abbreviation: hmaxit
    info:
      Maximum number of peak finding iterations between major cycles
  clark_maxit:
    dtype: int
    default: 50
    abbreviation: cmaxit
    info:
      Maximum number of PSF convolutions between major cycles
  sub_maxit:
    dtype: int
    default: 1000
    abbreviation: smaxit
    info:
      Maximum number of iterations for the sub-minor cycle
  verbose:
    dtype: int
    default: 1
    abbreviation: verb
    info:
      Verbosity level. Set to 2 for maximum verbosity, 0 for silence
  report_freq:
    dtype: int
    default: 10
    abbreviation: rf
    info:
      Report frequency for minor cycles
  cg_tol:
    dtype: float
    default: 1e-3
    abbreviation: cgtol
    info:
      Tolreance of conjugate gradient algorithm
  cg_maxit:
    dtype: int
    default: 100
    abbreviation: cgmaxit
    info:
      Maximum iterations for conjugate gradient algorithm
  cg_minit:
    dtype: int
    default: 1
    abbreviation: cgminit
    info:
      Minimum iterations for conjugate gradient algorithm
  cg_verbose:
    dtype: int
    default: 1
    abbreviation: cgverb
    info:
      Verbosity of conjugate gradient algorithm.
      Set to > 1 for debugging, 0 for silence
  cg_report_freq:
    dtype: int
    default: 100
    abbreviation: cgrf
    info:
      Report frequency of conjugate gradient algorithm
  backtrack:
    dtype: bool
    default: true
    info:
      Ensure residual decreases at every iteration
  memory_greedy:
    dtype: bool
    default: false
    info:
      Holds data in memory if set
  _include:
    - (pfb.parser)gridding.yml
    - (pfb.parser)dist.yml

outputs:
  {}
